version: "3.2"
services:
  sandbox_notification:
    build:
      context: .
      dockerfile: Dockerfile
      
    command: /bin/sh -c "while sleep 1000; do :; done"
    
    ports:
      - 8000:8000
    volumes:
      - ..:/workspace:cached
    networks:
      - ghga_mnet

  rabbitmq:
    image: rabbitmq:3-management
    container_name: 'rabbitmq'
    hostname: 'rabbitmq'
    ports:
      - 5672:5672
      - 15672:15672
    volumes:
      - ~/.docker-conf/rabbitmq/data/:/var/lib/rabbitmq/
      - ~/.docker-conf/rabbitmq/log/:/var/log/rabbitmq
    networks:
      - ghga_mnet

networks:
  ghga_mnet:
    driver: bridge
